<!DOCTYPE html>
<html lang="ja">
<head>
   <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-16708768954"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16708768954');
</script>

   <!-- Event snippet for 购买 conversion page
In your html page, add the snippet and call gtag_report_conversion when someone clicks on the chosen link or button. -->
<script>
function gtag_report_conversion(url) {
  var callback = function () {
    if (typeof(url) != 'undefined') {
      window.location = url;
    }
  };
  gtag('event', 'conversion', {
      'send_to': 'AW-16708768954/CV_LCLe0us8aELqprp8-',
      'value': 1.0,
      'currency': 'USD',
      'transaction_id': '',
      'event_callback': callback
  });
  return false;
}
</script>
   
<script>

   function kma() {
      gtag_report_conversion('https://sdun.io/Ue2QoN'); 
        }
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>投資大名タイプ診断 - 無料LINE診断サービス</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-imperial-golden-yellow: #FFD700;
            --secondary-noble-amber-shade: #FFA500;
            --tertiary-sunshine-bright-tone: #FFEB3B;
            --quaternary-wheat-field-cream: #F5DEB3;
            --pristine-aristocratic-white: #FFFFFF;
            --elegant-ivory-background: #FFFEF7;
            --accent-marigold-orange: #FF8C00;
            --professional-charcoal-text: #2C2C2C;
            --sophisticated-gray-medium: #555555;
            --subtle-gray-light-variant: #777777;
            --delicate-golden-border-line: #E6C200;
            --luminous-golden-shadow-effect: rgba(255, 215, 0, 0.3);
            --gradient-background-starting-point: #FFFEF7;
            --gradient-background-ending-point: #FFF8DC;
        }

        .comprehensive-financial-diagnostic-platform-wrapper {
            min-height: 100vh;
            background: linear-gradient(180deg, var(--gradient-background-starting-point) 0%, var(--gradient-background-ending-point) 100%);
            font-family: 'Hiragino Sans', 'Noto Sans JP', 'Meiryo', 'Yu Gothic', sans-serif;
            line-height: 1.6;
            color: var(--professional-charcoal-text);
            transition: all 0.3s ease;
        }

        .strategic-landing-page-header-section {
            background: var(--pristine-aristocratic-white);
            box-shadow: 0 6px 25px var(--luminous-golden-shadow-effect);
            padding: 2.5rem 1rem;
            text-align: center;
            border-bottom: 5px solid var(--primary-imperial-golden-yellow);
            position: relative;
            overflow: hidden;
        }

        .strategic-landing-page-header-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-imperial-golden-yellow), var(--secondary-noble-amber-shade), var(--primary-imperial-golden-yellow));
            animation: shimmerHeaderAnimation 2s linear infinite;
        }

        @keyframes shimmerHeaderAnimation {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .distinguished-diagnostic-main-headline {
            font-size: 2rem;
            font-weight: 800;
            color: var(--professional-charcoal-text);
            margin-bottom: 0.8rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            letter-spacing: 0.5px;
        }

        .premium-service-description-subtitle {
            font-size: 1.1rem;
            color: var(--secondary-noble-amber-shade);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .authoritative-expert-image-presentation-container {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            overflow: hidden;
            border: 5px solid var(--primary-imperial-golden-yellow);
            box-shadow: 0 10px 30px var(--luminous-golden-shadow-effect);
            position: relative;
        }

        .authoritative-expert-image-presentation-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.2) 50%, transparent 70%);
            animation: rotateGlowEffect 3s linear infinite;
        }

        @keyframes rotateGlowEffect {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .authoritative-expert-image-presentation-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .vertically-structured-content-management-framework {
            max-width: 650px;
            margin: 0 auto;
            padding: 2.5rem 1rem;
        }

        .initial-diagnostic-introduction-presentation-section {
            background: var(--pristine-aristocratic-white);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 35px var(--luminous-golden-shadow-effect);
            border: 3px solid var(--delicate-golden-border-line);
            position: relative;
            overflow: hidden;
        }

        .initial-diagnostic-introduction-presentation-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(255, 215, 0, 0.05) 50%, transparent 100%);
            pointer-events: none;
        }

        .diagnostic-initiation-primary-call-to-action-button {
            width: 100%;
            background: linear-gradient(135deg, var(--primary-imperial-golden-yellow) 0%, var(--secondary-noble-amber-shade) 50%, var(--accent-marigold-orange) 100%);
            border: none;
            border-radius: 60px;
            padding: 1.3rem 2.5rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--professional-charcoal-text);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px var(--luminous-golden-shadow-effect);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .diagnostic-initiation-primary-call-to-action-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }

        .diagnostic-initiation-primary-call-to-action-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .diagnostic-initiation-primary-call-to-action-button:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 40px var(--luminous-golden-shadow-effect);
        }

        .progressive-question-display-interface-container {
            display: none;
            background: var(--pristine-aristocratic-white);
            min-height: 100vh;
            padding: 3rem 1rem;
            text-align: center;
            position: relative;
        }

        .progressive-question-display-interface-container.active {
            display: block;
            animation: fadeInQuestionTransition 0.5s ease-out;
        }

        @keyframes fadeInQuestionTransition {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .individual-question-presentation-card-wrapper {
            max-width: 600px;
            margin: 0 auto;
            background: var(--pristine-aristocratic-white);
            border-radius: 25px;
            padding: 3rem;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            border: 4px solid var(--primary-imperial-golden-yellow);
        }

        .dynamic-question-title-header-element {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--professional-charcoal-text);
            margin-bottom: 2rem;
            border-bottom: 3px solid var(--delicate-golden-border-line);
            padding-bottom: 1.5rem;
            position: relative;
        }

        .dynamic-question-title-header-element::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--accent-marigold-orange);
        }

        .selectable-options-grid-layout-system {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            margin-bottom: 2.5rem;
        }

        .radio-option-wrapper-container {
            display: flex;
            align-items: center;
            background: var(--elegant-ivory-background);
            border: 3px solid var(--delicate-golden-border-line);
            border-radius: 15px;
            padding: 1.3rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .radio-option-wrapper-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: all 0.5s ease;
        }

        .radio-option-wrapper-container:hover::before {
            left: 100%;
        }

        .radio-option-wrapper-container:hover {
            background: var(--quaternary-wheat-field-cream);
            border-color: var(--secondary-noble-amber-shade);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px var(--luminous-golden-shadow-effect);
        }

        .radio-option-wrapper-container.selected {
            background: var(--primary-imperial-golden-yellow);
            border-color: var(--accent-marigold-orange);
            box-shadow: 0 8px 30px var(--luminous-golden-shadow-effect);
        }

        .radio-option-wrapper-container.selected .custom-radio-button-element {
            border-color: var(--accent-marigold-orange);
            background: var(--accent-marigold-orange);
        }

        .radio-option-wrapper-container.selected .custom-radio-button-element::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            background: var(--pristine-aristocratic-white);
            border-radius: 50%;
        }

        .custom-radio-button-element {
            width: 24px;
            height: 24px;
            border: 3px solid var(--delicate-golden-border-line);
            border-radius: 50%;
            margin-right: 1rem;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .radio-option-label-text {
            flex: 1;
            font-size: 1rem;
            color: var(--professional-charcoal-text);
            font-weight: 500;
        }

        .hidden-radio-input-element {
            display: none;
        }

        .individual-option-selection-interactive-element::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: all 0.5s ease;
        }

        .individual-option-selection-interactive-element:hover::before {
            left: 100%;
        }

        .individual-option-selection-interactive-element:hover {
            background: var(--quaternary-wheat-field-cream);
            border-color: var(--secondary-noble-amber-shade);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px var(--luminous-golden-shadow-effect);
        }

        .individual-option-selection-interactive-element.selected {
            background: var(--primary-imperial-golden-yellow);
            border-color: var(--accent-marigold-orange);
            color: var(--professional-charcoal-text);
            font-weight: 600;
            box-shadow: 0 8px 30px var(--luminous-golden-shadow-effect);
        }

        .individual-option-selection-interactive-element.selected::after {
            content: '✓';
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--accent-marigold-orange);
            color: var(--pristine-aristocratic-white);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .question-progression-navigation-control-button {
            background: linear-gradient(135deg, var(--primary-imperial-golden-yellow) 0%, var(--secondary-noble-amber-shade) 100%);
            border: none;
            border-radius: 50px;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--professional-charcoal-text);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px var(--luminous-golden-shadow-effect);
            min-width: 150px;
        }

        .question-progression-navigation-control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px var(--luminous-golden-shadow-effect);
        }

        .question-progression-navigation-control-button:disabled {
            background: var(--subtle-gray-light-variant);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .comprehensive-completion-results-presentation-section {
            display: none;
            background: var(--pristine-aristocratic-white);
            min-height: 100vh;
            padding: 3rem 1rem;
            text-align: center;
        }

        .comprehensive-completion-results-presentation-section.active {
            display: block;
            animation: fadeInCompletionTransition 0.6s ease-out;
        }

        @keyframes fadeInCompletionTransition {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .final-results-presentation-card-container {
            max-width: 700px;
            margin: 0 auto;
            background: var(--pristine-aristocratic-white);
            border-radius: 30px;
            padding: 3.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            border: 4px solid var(--primary-imperial-golden-yellow);
        }

        .completion-celebration-primary-headline {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--professional-charcoal-text);
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }

        .detailed-completion-description-content {
            font-size: 1.1rem;
            color: var(--sophisticated-gray-medium);
            margin-bottom: 2rem;
            line-height: 1.8;
        }

        .exclusive-benefits-features-showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .individual-benefit-feature-highlight-item {
            background: var(--elegant-ivory-background);
            padding: 1rem;
            border-radius: 15px;
            border: 2px solid var(--delicate-golden-border-line);
            color: var(--accent-marigold-orange);
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .individual-benefit-feature-highlight-item:hover {
            background: var(--quaternary-wheat-field-cream);
            transform: translateY(-2px);
        }

        .ultimate-call-to-action-engagement-button {
            background: linear-gradient(135deg, var(--accent-marigold-orange) 0%, var(--primary-imperial-golden-yellow) 50%, var(--secondary-noble-amber-shade) 100%);
            border: none;
            border-radius: 60px;
            padding: 1.5rem 3rem;
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--pristine-aristocratic-white);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 30px var(--luminous-golden-shadow-effect);
            margin-top: 2rem;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1.2px;
        }

        .ultimate-call-to-action-engagement-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: all 0.6s ease;
        }

        .ultimate-call-to-action-engagement-button:hover::before {
            left: 100%;
        }

        .ultimate-call-to-action-engagement-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 50px var(--luminous-golden-shadow-effect);
        }

        .comprehensive-legal-risk-disclosure-compliance-section {
            background: linear-gradient(135deg, #FFF3CD 0%, #FFF8DC 100%);
            border: 3px solid var(--primary-imperial-golden-yellow);
            border-radius: 15px;
            padding: 2rem;
            margin: 3rem 0;
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.2);
        }

        .critical-risk-warning-emphasis-title {
            color: #B8860B;
            font-size: 1.2rem;
            font-weight: 800;
            margin-bottom: 1.2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .detailed-legal-compliance-disclosure-text {
            color: var(--sophisticated-gray-medium);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .professional-footer-navigation-legal-section {
            background: var(--professional-charcoal-text);
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .footer-legal-agreement-link-styling {
            color: var(--primary-imperial-golden-yellow);
            text-decoration: none;
            margin: 0 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }

        .footer-legal-agreement-link-styling::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--secondary-noble-amber-shade);
            transition: all 0.3s ease;
        }

        .footer-legal-agreement-link-styling:hover::after {
            width: 100%;
        }

        .footer-legal-agreement-link-styling:hover {
            color: var(--secondary-noble-amber-shade);
            text-shadow: 0 0 10px rgba(255, 165, 0, 0.5);
        }

        @media (max-width: 768px) {
            .distinguished-diagnostic-main-headline {
                font-size: 1.6rem;
            }
            
            .individual-question-presentation-card-wrapper,
            .final-results-presentation-card-container {
                padding: 2rem;
                margin: 0 0.5rem;
            }
            
            .exclusive-benefits-features-showcase-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .diagnostic-initiation-primary-call-to-action-button,
            .ultimate-call-to-action-engagement-button {
                font-size: 1.1rem;
                padding: 1rem 2rem;
            }
        }
    </style>
</head>
<body class="comprehensive-financial-diagnostic-platform-wrapper">
    <!-- 初期ランディングページセクション -->
    <div id="initialLandingPageSection">
        <header class="strategic-landing-page-header-section">
            <h1 class="distinguished-diagnostic-main-headline">3つのモードで診断！あなたの「投資大名タイプ」を知る</h1> 
            <div class="authoritative-expert-image-presentation-container">
                <img src="img/1.jpg" alt="1">
            </div>
        </header>

        <main class="vertically-structured-content-management-framework">
            <section class="initial-diagnostic-introduction-presentation-section">
                <button class="diagnostic-initiation-primary-call-to-action-button" onclick="initiateDiagnosticProcess()">無料でラインを追加するための3つの質問</button>
            </section>

            <section class="comprehensive-legal-risk-disclosure-compliance-section">
                <h3 class="critical-risk-warning-emphasis-title">⚠️ 重要なリスク提示</h3>
                <div class="detailed-legal-compliance-disclosure-text">
                    • 本サービスは一般的な市場情報のみを提供し、いかなる投資助言や推奨も行いません。<br>
                    • 金融市場にはリスクが存在し、投資元本の一部または全部を失う可能性があります。<br>
                    • 表示されるすべての例は過去のデータ分析であり、将来の収益を保証するものではありません。<br>
                    • 投資家は自身のリスク許容度に基づいて慎重に判断を行うべきです。<br>
                    • すべての情報は客観的な事実の記述であり、投資助言を構成するものではありません。
                </div>
            </section>
        </main>

        <footer class="professional-footer-navigation-legal-section">
            <a href="#" class="footer-legal-agreement-link-styling">プライバシーポリシー</a>
            <a href="#" class="footer-legal-agreement-link-styling">利用規約</a>
        </footer>
    </div>

    <!-- 質問表示インターフェース -->
    <div class="progressive-question-display-interface-container" id="questionDisplayInterface">
        <div class="individual-question-presentation-card-wrapper">
            <h2 class="dynamic-question-title-header-element" id="currentQuestionTitleDisplay"></h2>
            <div class="selectable-options-grid-layout-system" id="questionOptionsGridContainer"></div>
            <button class="question-progression-navigation-control-button" id="proceedToNextQuestionButton" onclick="proceedToNextDiagnosticQuestion()" disabled>「次へ進む」</button>
        </div>
    </div>

    <!-- 完了結果表示セクション -->
    <div class="comprehensive-completion-results-presentation-section" id="completionResultsSection">
        <div class="final-results-presentation-card-container">
            <h3 class="completion-celebration-primary-headline">投資経験者限定！</h3>
            <p class="detailed-completion-description-content">
                これは、お金を稼ぐ話ではなく、率直に話し合える社交活動です。<br>
                参加者が「失敗談、成功の秘訣、税務戦略」を共有します
            </p>
            <div class="exclusive-benefits-features-showcase-grid">
                <div class="individual-benefit-feature-highlight-item">✓ 講師なし</div>
                <div class="individual-benefit-feature-highlight-item">✓ 営業なし</div> 
            </div>
            <button class="ultimate-call-to-action-engagement-button" onclick="kma()">今すぐ経験を交流する</button>
        </div>
    </div>

    <script>
        const comprehensiveDiagnosticQuestionnaireDataStructure = [
            {
                questionIdentifier: 'investmentStyleCharacteristic',
                questionDisplayTitle: 'あなたの投資スタイルは何ですか？',
                availableSelectionOptions: [
                    '徳川家康スタイル（長期投資）',
                    '織田信長スタイル（成長株重視）',
                    '豊臣秀吉スタイル（情報分析重視）'
                ]
            },
            {
                questionIdentifier: 'currentInvestmentChallenges',
                questionDisplayTitle: 'あなたの最近の投資に関する悩みは何ですか？',
                availableSelectionOptions: [
                    '市場の変動が心配で眠れない',
                    '税金対策がよく分からない',
                    'いつ売却すればいいか分からない'
                ]
            },
            {
                questionIdentifier: 'desiredInformationPreferences',
                questionDisplayTitle: 'どのような情報を希望しますか？',
                availableSelectionOptions: [
                    '安定投資家向けの配当投資ガイド',
                    '成長株を見極めるチェックリスト',
                    'ベテラン投資家の売買タイミング'
                ]
            }
        ];

        let currentQuestionIndexPosition = 0;
        let userSelectionResponseCollection = {};

        function initiateDiagnosticProcess() {
            document.getElementById('initialLandingPageSection').style.display = 'none';
            document.getElementById('questionDisplayInterface').classList.add('active');
            displayCurrentDiagnosticQuestion();
        }

        function displayCurrentDiagnosticQuestion() {
            const currentQuestionData = comprehensiveDiagnosticQuestionnaireDataStructure[currentQuestionIndexPosition];
            document.getElementById('currentQuestionTitleDisplay').textContent = currentQuestionData.questionDisplayTitle;
            
            const optionsContainer = document.getElementById('questionOptionsGridContainer');
            optionsContainer.innerHTML = '';
            
            currentQuestionData.availableSelectionOptions.forEach((optionText, optionIndex) => {
                const radioWrapper = document.createElement('div');
                radioWrapper.className = 'radio-option-wrapper-container';
                
                const radioInput = document.createElement('input');
                radioInput.type = 'radio';
                radioInput.name = `question-${currentQuestionIndexPosition}`;
                radioInput.value = optionIndex;
                radioInput.className = 'hidden-radio-input-element';
                radioInput.id = `option-${currentQuestionIndexPosition}-${optionIndex}`;
                
                const customRadio = document.createElement('div');
                customRadio.className = 'custom-radio-button-element';
                
                const labelText = document.createElement('span');
                labelText.className = 'radio-option-label-text';
                labelText.textContent = optionText;
                
                radioWrapper.appendChild(radioInput);
                radioWrapper.appendChild(customRadio);
                radioWrapper.appendChild(labelText);
                
                radioWrapper.onclick = () => selectDiagnosticOption(radioWrapper, optionIndex, radioInput);
                
                optionsContainer.appendChild(radioWrapper);
            });
            
            updateNavigationButtonState();
        }

        function selectDiagnosticOption(selectedElement, optionIndex, radioInput) {
            // 他の選択肢の選択状態をクリア
            document.querySelectorAll('.radio-option-wrapper-container').forEach(el => {
                el.classList.remove('selected');
            });
            
            // ラジオボタンの選択状態をクリア
            document.querySelectorAll(`input[name="question-${currentQuestionIndexPosition}"]`).forEach(input => {
                input.checked = false;
            });
            
            // 選択された要素をハイライト
            selectedElement.classList.add('selected');
            radioInput.checked = true;
            
            // ユーザーの選択を記録
            const questionId = comprehensiveDiagnosticQuestionnaireDataStructure[currentQuestionIndexPosition].questionIdentifier;
            userSelectionResponseCollection[questionId] = optionIndex;
            
            updateNavigationButtonState();
        }

        function updateNavigationButtonState() {
            const questionId = comprehensiveDiagnosticQuestionnaireDataStructure[currentQuestionIndexPosition].questionIdentifier;
            const nextButton = document.getElementById('proceedToNextQuestionButton');
            
            if (userSelectionResponseCollection[questionId] !== undefined) {
                nextButton.disabled = false;
                nextButton.textContent = currentQuestionIndexPosition === comprehensiveDiagnosticQuestionnaireDataStructure.length - 1 ? '「次へ進む」' : '「次へ進む」';
            } else {
                nextButton.disabled = true;
            }
        }

        function proceedToNextDiagnosticQuestion() {
            // ページ刷新效果：淡出当前问题
            const questionInterface = document.getElementById('questionDisplayInterface');
            questionInterface.style.opacity = '0';
            questionInterface.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                if (currentQuestionIndexPosition < comprehensiveDiagnosticQuestionnaireDataStructure.length - 1) {
                    currentQuestionIndexPosition++;
                    displayCurrentDiagnosticQuestion();
                    
                    // 页面刷新效果：淡入新问题
                    setTimeout(() => {
                        questionInterface.style.opacity = '1';
                        questionInterface.style.transform = 'scale(1)';
                    }, 50);
                    
                } else {
                    questionInterface.classList.remove('active');
                    document.getElementById('completionResultsSection').classList.add('active');
                }
            }, 300);
        }

     

        // ダークモード対応機能
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
</body>
</html>
